{% extends "base.html" %}
{% block content %}
  <h1 class="text-xl font-semibold">Setup checklist</h1>
  <p class="mt-1 text-sm text-slate-400">Get to a working, fast DNS + blocking + visibility.</p>

  <div class="mt-4 grid gap-4 md:grid-cols-2">
    <div class="rounded-2xl border border-slate-800 bg-bg-800 p-5">
      <h2 class="text-sm font-semibold text-slate-200">1) Set DNS on your network</h2>
      <p class="mt-2 text-sm text-slate-300">Point your DHCP server/router to use this host as DNS (UDP/TCP 53).</p>
      <ul class="mt-3 list-disc pl-5 text-sm text-slate-400 space-y-1">
        <li>Recommended: set it at the router so all clients use it automatically.</li>
        <li>Keep NTP enabled on the host for accurate charts and logs.</li>
      </ul>
    </div>

    <div class="rounded-2xl border border-slate-800 bg-bg-800 p-5">
      <h2 class="text-sm font-semibold text-slate-200">2) Enable blocklists</h2>
      <p class="mt-2 text-sm text-slate-300">Use Suggested Lists as a starting point. Apply to generate RPZ.</p>
      <div class="mt-3">
        <a class="inline-flex rounded-lg border border-slate-700 bg-bg-900 px-3 py-2 text-sm hover:bg-bg-700" href="/blocklists">Go to Blocklists</a>
      </div>
      <p class="mt-3 text-xs text-slate-500">Tip: start conservative (ads+malware). Add telemetry/adult lists later.</p>
    </div>

    <div class="rounded-2xl border border-slate-800 bg-bg-800 p-5">
      <h2 class="text-sm font-semibold text-slate-200">3) Verify traffic + visibility</h2>
      <p class="mt-2 text-sm text-slate-300">Once clients use this DNS, you should see logs appear.</p>
      <div class="mt-3 flex gap-2">
        <a class="inline-flex rounded-lg border border-slate-700 bg-bg-900 px-3 py-2 text-sm hover:bg-bg-700" href="/logs">View Logs</a>
        <a class="inline-flex rounded-lg border border-slate-700 bg-bg-900 px-3 py-2 text-sm hover:bg-bg-700" href="/clients">View Clients</a>
      </div>
    </div>

    <div class="rounded-2xl border border-slate-800 bg-bg-800 p-5">
      <h2 class="text-sm font-semibold text-slate-200">Client naming (no DHCP)</h2>
      <p class="mt-2 text-sm text-slate-300">PowerBlockade does not run DHCP. Client names come from your existing gateway/firewall DNS using PTR lookups.</p>
      <ul class="mt-3 list-disc pl-5 text-sm text-slate-400 space-y-1">
        <li>Plan: configure name-resolvers by subnet (e.g. 192.168.1.0/24 â†’ router DNS).</li>
        <li>MVP: PTR-only + manual overrides.</li>
      </ul>
    </div>

    <div class="rounded-2xl border border-slate-800 bg-bg-800 p-5 md:col-span-2">
      <h2 class="text-sm font-semibold text-slate-200">HA logging expectation</h2>
      <p class="mt-2 text-sm text-slate-300">All nodes send query events to the primary API so the UI stays a single pane of glass.</p>
      <ul class="mt-3 list-disc pl-5 text-sm text-slate-400 space-y-1">
        <li>Planned: local buffering on secondaries for network partitions.</li>
        <li>Planned: idempotent ingest (event_id) to safely retry.</li>
      </ul>
    </div>
  </div>
{% endblock %}
